
## 符号表类型
**动态链接库**是**ELF**(Executable and Linkable Format)文件的一种,有两个符号表:
| 符号表类型 | 说明                                         |
| ---------- | -------------------------------------------- |
| .symtab    | 包含大量的信息（包括全局符号global symbols） |
| .dynsym    | 只保留.symtab中的全局符号                    |
|            |                                              |
|            |                                              |
|            |                                              |
`.dynsym` 是 `.symtab`的子集，命令`strip`会去掉ELF文件中`.symtab`,但不会去掉`.dynsym`。

## 移除符号表

正常情况下编译出的共享库包含了所有的符号信息与调试信息，对于开发和调试会非常方便。但是对于正常的Release版本我们并不需要这些信息，同时这些信息会占用比较大的磁盘空间。

移除方法：
1. 移除部分符号信息，strip <XXX.so>
2. 链接时，使用ld -s或-S，使得输出文件不产生符号信息，-s移除调试符号信息，-S移除所有符号信息
3. gcc时，使用-Wl,-s或-Wl,-S，等价方法2

## 作用

减少ELF文件大小，一般可以减少一半

## 疑问

1. 符号表是什么？有哪些类型？分别有什么作用？
2. ELF文件的组成内容，有哪些类型？不同类型的组成异同？
3. 链接选项
4. 编译选项